{{- if and (.Values.basicAuth.enabled) (eq .Values.ingress.className "nginx") }}
apiVersion: v1
data:
  auth: {{ printf "%s:%s" .Values.basicAuth.user .Values.basicAuth.htPassword | b64enc }}
kind: Secret
metadata:
  name: faaast-registry-basic-auth-secret
type: Opaque
{{- end }}